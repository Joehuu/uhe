[Rainmeter]
@Include=#@#Variables/mainvariables.inc

[Metadata]
Author=Joehu
Version=1.0
License=MIT License
Information=A key counter for osu! keys.

[Variables]
ButtonWidth=100
ButtonHeight=70
Key1=Z
Key2=X

[measureKey1Counter]
Measure=Loop
StartValue=0
EndValue=1000000
UpdateDivider=-1

[measureKey2Counter]
Measure=Loop
StartValue=0
EndValue=1000000
UpdateDivider=-1

[measureKey1]
Measure=Plugin
Plugin=HotKey
HotKey=#Key1#
KeyDownAction=[!SetOption meterKey1 SolidColor #LightHighlight#,#NoGradientTransparency#][!SetOption measureKey1Pressed Formula 1][!UpdateMeasure measureKey1Pressed][!UpdateMeter meterKey1][!Redraw]
KeyUpAction=[!SetOption meterKey1 SolidColor 0,0,0,0][!SetOption measureKey1Pressed Formula 0][!UpdateMeasure measureKey1Pressed][!UpdateMeter meterKey1][!Redraw]

[measureKey2]
Measure=Plugin
Plugin=HotKey
HotKey=#Key2#
KeyDownAction=[!SetOption meterKey2 SolidColor #LightHighlight#,#NoGradientTransparency#][!SetOption measureKey2Pressed Formula 1][!UpdateMeasure measureKey2Pressed][!UpdateMeter meterKey2][!Redraw]
KeyUpAction=[!SetOption meterKey2 SolidColor 0,0,0,0][!SetOption measureKey2Pressed Formula 0][!UpdateMeasure measureKey2Pressed][!UpdateMeter meterKey2][!Redraw]

[measureKey1Pressed]
Measure=Calc
Formula=0
IfCondition=measureKey1Pressed=1
IfTrueAction=[!UpdateMeasure measureKey1Counter]

[measureKey2Pressed]
Measure=Calc
Formula=0
IfCondition=measureKey2Pressed=1
IfTrueAction=[!UpdateMeasure measureKey2Counter]

[meterKey1Background]
Meter=Image
W=#ButtonWidth#
H=#ButtonHeight#
Group=BackgroundGroup

[meterKey1]
Meter=String
Text=[measureKey1Counter]#CRLF##Key1#
StringAlign=CenterCenter
X=(-#ButtonWidth# / 2)R
Y=(#ButtonHeight# / 2)
W=#ButtonWidth#
H=#ButtonHeight#
FontFace=#FontFace#
FontSize=20
AntiAlias=1
Group=TextGroup

[meterKey2Background]
Meter=Image
X=(#ButtonWidth# / 2)r
W=#ButtonWidth#
H=#ButtonHeight#
Group=BackgroundGroup

[meterKey2]
Meter=String
Text=[measureKey2Counter]#CRLF##Key2#
StringAlign=CenterCenter
X=(-#ButtonWidth# / 2)R
Y=(#ButtonHeight# / 2)
W=#ButtonWidth#
H=#ButtonHeight#
FontFace=#FontFace#
FontSize=20
AntiAlias=1
Group=TextGroup
